{"version":3,"sources":["../../scripts/kimetu_script.ts","../../scripts/item/weapon/nichirintou/Nichirintou.ts","../../scripts/item/weapon/nichirintou/NichirintouTanjiro.ts","../../scripts/item/weapon/nichirintou/NichirintouGenya.ts","../../scripts/item/weapon/nichirintou/NichirintouGiyu.ts","../../scripts/item/weapon/nichirintou/NichirintouGyoumei.ts","../../scripts/item/weapon/nichirintou/NichirintouHana.ts","../../scripts/item/weapon/nichirintou/NichirintouHi.ts","../../scripts/item/weapon/nichirintou/NichirintouHono.ts","../../scripts/common/commonUtil.ts","../../scripts/common/ShooterPoints.ts","../../scripts/custom/ShooterMagicEvent.ts","../../scripts/item/weapon/nichirintou/NichirintouInosuke.ts","../../scripts/item/weapon/nichirintou/NichirintouKaminari.ts","../../scripts/item/weapon/nichirintou/NichirintouKanawo.ts","../../scripts/item/weapon/nichirintou/NichirintouKaze.ts","../../scripts/item/weapon/nichirintou/NichirintouKoi.ts","../../scripts/item/weapon/nichirintou/NichirintouKyouzyuro.ts","../../scripts/item/weapon/nichirintou/NichirintouMituri.ts","../../scripts/item/weapon/nichirintou/NichirintouMizu.ts","../../scripts/item/weapon/nichirintou/NichirintouMuitiro.ts","../../scripts/item/weapon/nichirintou/NichirintouMushi.ts","../../scripts/item/weapon/nichirintou/NichirintouObanai.ts","../../scripts/item/weapon/nichirintou/NichirintouOto.ts","../../scripts/item/weapon/nichirintou/NichirintouSanemi.ts","../../scripts/item/weapon/nichirintou/NichirintouShinobu.ts","../../scripts/item/weapon/nichirintou/NichirintouTengen.ts","../../scripts/item/weapon/nichirintou/NichirintouZenitu.ts","../../scripts/item/weapon/kekkizyutu/KekkizyutuBakketu.ts","../../scripts/item/weapon/kekkizyutu/KekkizyutuHakaisatu.ts","../../scripts/item/weapon/kekkizyutu/KekkizyutuKoushi.ts","../../scripts/item/weapon/kekkizyutu/KekkizyutuTigama.ts","../../scripts/item/weapon/kekkizyutu/KekkizyutuUltrasonic.ts","../../scripts/custom/CustomComponentRegistry.ts","../../scripts/common/ItemDurabilityDamage.ts"],"sourcesContent":["import { world,system, EquipmentSlot } from \"@minecraft/server\";\r\nimport { initRegisterCustom } from \"./custom/CustomComponentRegistry\";\r\nimport { probabilisticChoice } from \"./item/weapon/nichirintou/Nichirintou\";\r\nimport { ItemDurabilityDamage } from \"./common/ItemDurabilityDamage\";\r\n\r\n// ワールド接続時\r\nworld.beforeEvents.worldInitialize.subscribe(initEvent => {\r\n  initRegisterCustom(initEvent);\r\n});\r\nworld.beforeEvents.playerLeave.subscribe(leaveEvent => {\r\n  leaveEvent.player.clearDynamicProperties();\r\n});\r\n\r\n// アイテム右クリックリリース後\r\nworld.afterEvents.itemReleaseUse.subscribe(event => {\r\n  let player = event.source;\r\n  let item = event.itemStack;\r\n  let duration = event.useDuration;\r\n  if (item != undefined) {\r\n    if (player.getDynamicProperty(\"nichirintou_change\")) {\r\n      probabilisticChoice(item, player);\r\n    }\r\n    if (player.getDynamicProperty(\"kokyu\")) {\r\n      player.setDynamicProperty(\"kokyu\", undefined);\r\n      ItemDurabilityDamage(player, item, EquipmentSlot.Mainhand);\r\n    }\r\n  }\r\n});\r\n\r\n","import { ItemCustomComponent, ItemStack, world, ItemComponentUseEvent, Player, ItemComponentCompleteUseEvent, EntityComponentTypes, EntityInventoryComponent, Container, EquipmentSlot, EntityEquippableComponent, ItemComponentTypes, ItemEnchantableComponent } from \"@minecraft/server\";\r\n\r\nconst ProbabilisticChoice = (list: any[]) => {\r\n    const totalWeight = list.reduce((p, c) => {\r\n        return { weight: p.weight + c.weight }\r\n    }).weight\r\n\r\n    return {\r\n        pick () {\r\n        const r = Math.random() * totalWeight;\r\n        let s = 0.0;\r\n        for (const l of list) {\r\n            s += l.weight\r\n            if (r < s) { return l.item }\r\n        }\r\n        }\r\n    }\r\n};\r\n\r\nconst nichirintouLists = ProbabilisticChoice([\r\n    { item: 'kurokumaft:nichirintou_mizu' , weight: 50 },\r\n    { item: 'kurokumaft:nichirintou_hono' , weight: 30 },\r\n    { item: 'kurokumaft:nichirintou_kaze' , weight: 20 },\r\n    { item: 'kurokumaft:nichirintou_hana' , weight: 20 },\r\n    { item: 'kurokumaft:nichirintou_kaminari' , weight: 15 },\r\n    { item: 'kurokumaft:nichirintou_koi' , weight: 5 },\r\n    { item: 'kurokumaft:nichirintou_mushi' , weight: 5 },\r\n    { item: 'kurokumaft:nichirintou_oto' , weight: 5 },\r\n    { item: 'kurokumaft:nichirintou_hi' , weight: 1 },\r\n]);\r\n\r\n/**\r\n * 日輪刀\r\n */\r\nexport class Nichirintou implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"nichirintou_change\", true);\r\n        world.sendMessage(\"change_start\");\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 日輪刀色変わり\r\n * @param {ItemStack} itemStack\r\n * @param {Player} player\r\n */\r\nexport async function probabilisticChoice(itemStack:ItemStack, player:Player) {\r\n    world.sendMessage(\"change\");\r\n    let nichirintou = nichirintouLists.pick();\r\n\r\n    let enchant = itemStack.getComponent(ItemComponentTypes.Enchantable) as ItemEnchantableComponent;\r\n\r\n    let changeItem = new ItemStack(nichirintou);\r\n    let newEnchant = changeItem.getComponent(ItemComponentTypes.Enchantable) as ItemEnchantableComponent;\r\n    newEnchant.addEnchantments(enchant.getEnchantments());\r\n\r\n    let equ = player.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n    equ.setEquipment(EquipmentSlot.Mainhand, changeItem);\r\n\r\n    player.setDynamicProperty(\"nichirintou_change\", false);\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouTanjiro implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouGenya implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouGiyu implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouGyoumei implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouHana implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouHi implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player, EntityComponentTypes, EntityVariantComponent } from \"@minecraft/server\";\r\nimport { getRandomInRange } from \"../../../common/commonUtil\";\r\nimport { shooting } from \"../../../custom/ShooterMagicEvent\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouHono implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n\r\n        let variant = player.getComponent(EntityComponentTypes.Variant) as EntityVariantComponent;\r\n\r\n        if (variant && variant.value == 5) {\r\n            let xran = parseFloat(getRandomInRange(-0.3, 0.3).toFixed(3));\r\n            let yran = parseFloat(getRandomInRange(-0.1, 0.1).toFixed(3));\r\n    \r\n            shooting(player, \"kurokumaft:hono_tiger\", {x:xran,y:yran,z:0}, 2, undefined);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { world,system,Player,Entity,ItemStack,EntityComponentTypes,ItemComponentTypes,EntityEquippableComponent,EquipmentSlot,ItemEnchantableComponent,ItemDurabilityComponent, Vector2, Vector3, Direction} from \"@minecraft/server\";\r\n\r\nconst CraftBlocks = [\"minecraft:crafting_table\",\"minecraft:anvil\",\"minecraft:smithing_table\",\"minecraft:cartography_table\",\"minecraft:loom\",\"minecraft:barrel\"\r\n                    ,\"minecraft:smoker\",\"minecraft:blast_furnace\",\"minecraft:furnace\",\"kurokumaft:magic_lectern\"];\r\n\r\n// デバッグ用\r\n/**\r\n * @param {Object} text\r\n */\r\nfunction print(text:Object) {\r\n    world.sendMessage(text + \"\");\r\n};\r\n\r\n// 制限\r\n/**\r\n * @param {number} min\r\n * @param {number} max\r\n */\r\nfunction clamp(value:number, min:number, max:number) {\r\n    return Math.min(Math.max(value, min), max);\r\n};\r\n\r\n// 乱数\r\n/**\r\n * @param {number} min\r\n * @param {number} max\r\n */\r\nfunction getRandomInRange(min:number, max:number) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n\r\n// サウンド再生\r\n/**\r\n * @param {Entity} entity\r\n * @param {String} sound\r\n */\r\nfunction playsound(entity:Entity, sound:String) {\r\n    let commandText =  \"playsound \" + sound + \" @s\";\r\n    entity.runCommandAsync(commandText);\r\n};\r\n\r\n// 耐久値減少\r\n/**\r\n * @param {Player} player\r\n * @param {ItemStack} item\r\n * @param {String} slotName\r\n * @param {EquipmentSlot} slot\r\n * @param {number} damage\r\n */\r\nfunction durabilityDamage(player:Player, item:ItemStack, slotName:String, slot:EquipmentSlot, damage:number) {\r\n    let dur = item.getComponent(ItemComponentTypes.Durability) as ItemDurabilityComponent;\r\n    let enc = item.getComponent(ItemComponentTypes.Enchantable) as ItemEnchantableComponent;\r\n    let encs = null;\r\n    if (enc) {\r\n        encs = enc.getEnchantments();\r\n    }\r\n    let commandText =  \"replaceitem entity @s \" + slotName + \" 0 \" + item.typeId + \" 1 \" + (dur.damage + damage);\r\n    player.runCommand(commandText);\r\n\r\n    if (encs) {\r\n        let intervalNum = system.runInterval(() => {\r\n            let reEqu = player.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n            let reItem = reEqu.getEquipment(slot) as ItemStack ;\r\n            let reEnc = reItem.getComponent(ItemComponentTypes.Enchantable) as ItemEnchantableComponent;\r\n            for (let i=0;i<encs.length;i++) {\r\n                reEnc.addEnchantment(encs[i]);\r\n            }\r\n        \r\n            reEqu.setEquipment(slot, reItem);\r\n        \r\n        }, 2);\r\n        system.runTimeout(() => {\r\n            system.clearRun(intervalNum);\r\n        }, 3);\r\n    }\r\n};\r\n\r\n// アイテム破壊\r\n/**\r\n * @param {Player} player\r\n * @param {String} slotName\r\n */\r\nfunction breakItem(player:Player, slotName:String) {\r\n    let commandText =  \"replaceitem entity @s \" + slotName + \" 0 destroy air\";\r\n    player.runCommand(commandText);\r\n};\r\n\r\n/**\r\n * 視線位置\r\n * @param {Vector2} rotation\r\n * @param {Vector3} location\r\n * @param {number} point\r\n */\r\nfunction getLookPoints(rotation:Vector2, location:Vector3, point:number) {\r\n    let piNum = 90;\r\n    let xlocation;\r\n    let ylocation;\r\n    let zlocation;\r\n\r\n    // 西～北\r\n    if (rotation.y >= -90 && rotation.y < 0) {\r\n        let yRotax = -rotation.y / piNum;\r\n        let yRotaz = (rotation.y + 90) / piNum;\r\n        let yRota = -(rotation.x / piNum);\r\n        // 上～正面\r\n        if (rotation.x >= -90 && rotation.x < 0) {\r\n            let xRota = (rotation.x + 90) / piNum;\r\n            xlocation = location.x + (yRotax * xRota) * point;\r\n            ylocation = (location.y + 1.5) + (yRota) * point;\r\n            zlocation = location.z + (yRotaz * xRota) * point;\r\n\r\n        // 正面～下\r\n        } else if (rotation.x >= 0 && rotation.x <= 90) {\r\n            let xRota = -(rotation.x - 90) / piNum;\r\n            xlocation = location.x + (yRotax * xRota) * point;\r\n            ylocation = (location.y + 1.5) + (yRota) * point;\r\n            zlocation = location.z + (yRotaz * xRota) * point;\r\n        }\r\n\r\n    // 北～東\r\n    } else if (rotation.y >= 0 && rotation.y <= 90) {\r\n\r\n        let yRotax = rotation.y / piNum;\r\n        let yRotaz = -(rotation.y - 90) / piNum;\r\n        let yRota = -(rotation.x / piNum);\r\n        // 上～正面\r\n        if (rotation.x >= -90 && rotation.x < 0) {\r\n            let xRota = (rotation.x + 90) / piNum;\r\n            xlocation = location.x - (yRotax * xRota) * point;\r\n            ylocation = (location.y + 1.5) + (yRota) * point;\r\n            zlocation = location.z + (yRotaz * xRota) * point;\r\n        // 正面～下\r\n        } else if (rotation.x >= 0 && rotation.x <= 90) {\r\n            let xRota = -(rotation.x - 90) / piNum;\r\n            xlocation = location.x - (yRotax * xRota) * point;\r\n            ylocation = (location.y + 1.5) + (yRota) * point;\r\n            zlocation = location.z + (yRotaz * xRota) * point;\r\n        }\r\n\r\n    // 西～南\r\n    } else if (rotation.y < -90 && rotation.y > -180) {\r\n\r\n        let yRotax = (rotation.y + 180) / piNum;\r\n        let yRotaz = (rotation.y + 90) / piNum;\r\n        let yRota = -(rotation.x / piNum);\r\n        // 上～正面\r\n        if (rotation.x >= -90 && rotation.x < 0) {\r\n            let xRota = (rotation.x + 90) / piNum;\r\n            xlocation = location.x + (yRotax * xRota) * point;\r\n            ylocation = (location.y + 1.5) + (yRota) * point;\r\n            zlocation = location.z + (yRotaz * xRota) * point;\r\n\r\n        // 正面～下\r\n        } else if (rotation.x >= 0 && rotation.x <= 90) {\r\n            let xRota = -(rotation.x - 90) / piNum;\r\n            xlocation = location.x + (yRotax * xRota) * point;\r\n            ylocation = (location.y + 1.5) + (yRota) * point;\r\n            zlocation = location.z + (yRotaz * xRota) * point;\r\n        }\r\n\r\n    // 東～南\r\n    } else if (rotation.y > 90 && rotation.y <= 180) {\r\n        let yRotax = -(rotation.y - 180) / piNum;\r\n        let yRotaz = -(rotation.y - 90) / piNum;\r\n        let yRota = -(rotation.x / piNum);\r\n        // 上～正面\r\n        if (rotation.x >= -90 && rotation.x < 0) {\r\n            let xRota = (rotation.x + 90) / piNum;\r\n            xlocation = location.x - (yRotax * xRota) * point;\r\n            ylocation = (location.y + 1.5) + (yRota) * point;\r\n            zlocation = location.z + (yRotaz * xRota) * point;\r\n        // 正面～下\r\n        } else if (rotation.x >= 0 && rotation.x <= 90) {\r\n            let xRota = -(rotation.x - 90) / piNum;\r\n            xlocation = location.x - (yRotax * xRota) * point;\r\n            ylocation = (location.y + 1.5) + (yRota) * point;\r\n            zlocation = location.z + (yRotaz * xRota) * point;\r\n        }\r\n\r\n    }\r\n    return { xlocation, ylocation, zlocation };\r\n}\r\n\r\nfunction normalizeVector(v: Vector3): Vector3 {\r\n    const length = Math.sqrt(v.x * v.x + v.y * v.y + v.z * v.z);\r\n    return {\r\n        x: v.x / length,\r\n        y: v.y / length,\r\n        z: v.z / length\r\n    };\r\n}\r\n\r\nfunction getDirectionVector(thisEn: Vector3, targetEn: Vector3): Vector3 {\r\n    const direction = {\r\n        x: targetEn.x - thisEn.x,\r\n        y: targetEn.y - thisEn.y,\r\n        z: targetEn.z - thisEn.z\r\n    };\r\n    return normalizeVector(direction);\r\n}\r\n\r\nconst BlockLocationList = Object.freeze([\r\n    {\r\n        direction: Direction.Up,\r\n        location: {x:0,y:1,z:0}\r\n    },\r\n    {\r\n        direction: Direction.Down,\r\n        location: {x:0,y:-1,z:0}\r\n    },\r\n    {\r\n        direction: Direction.South,\r\n        location: {x:0,y:0,z:1}\r\n    },\r\n    {\r\n        direction: Direction.North,\r\n        location: {x:0,y:0,z:-1}\r\n    },\r\n    {\r\n        direction: Direction.East,\r\n        location: {x:1,y:0,z:0}\r\n    },\r\n    {\r\n        direction: Direction.West,\r\n        location: {x:-1,y:0,z:0}\r\n    }\r\n\r\n]);\r\n\r\nexport { print, clamp, getRandomInRange, playsound, durabilityDamage, breakItem, getLookPoints, getDirectionVector, CraftBlocks, BlockLocationList };\r\n","import { Vector2, Vector3 } from \"@minecraft/server\";\r\n\r\n/**\r\n * 投擲発射位置\r\n * @param {Vector2} rotation\r\n * @param {Vector3} location\r\n */\r\nfunction getAdjacentSphericalPoints(rotation:Vector2, location:Vector3) {\r\n    let r = 1;  // 半径\r\n\r\n    let piNum = 75;\r\n    let xapply;\r\n    let yapply;\r\n    let zapply;\r\n    let xlocation;\r\n    let ylocation;\r\n    let zlocation;\r\n\r\n    // 西～北\r\n    if (rotation.y >= -90 && rotation.y < 0) {\r\n        let yRotax = -rotation.y / piNum;\r\n        let yRotaz = (rotation.y + 90) / piNum;\r\n        let yRota = -(rotation.x / piNum);\r\n        // 上～正面\r\n        if (rotation.x >= -90 && rotation.x < 0) {\r\n            let xRota = (rotation.x + 90) / piNum;\r\n            xlocation = location.x + (yRotax * xRota) * 1.75;\r\n            xapply = yRotax * xRota;\r\n\r\n            if (rotation.x <= -45) {\r\n                ylocation = (location.y + 1.5) + (yRota) * 1.75;\r\n            } else {\r\n                ylocation = (location.y + 1.75) + (yRota) * 1.5;\r\n            }\r\n            yapply = (yRota);\r\n\r\n            zlocation = location.z + (yRotaz * xRota) * 1.75;\r\n            zapply = yRotaz * xRota;\r\n\r\n        // 正面～下\r\n        } else if (rotation.x >= 0 && rotation.x <= 90) {\r\n            let xRota = -(rotation.x - 90) / piNum;\r\n            xlocation = location.x + (yRotax * xRota) * 1.75;\r\n            xapply = yRotax * xRota;\r\n\r\n            if (rotation.x >= 45) {\r\n                ylocation = (location.y + 1.5) + (yRota) * 1.75;\r\n            } else {\r\n                ylocation = (location.y + 1.75) + (yRota) * 1.5;\r\n            }\r\n            yapply = (yRota);\r\n\r\n            zlocation = location.z + (yRotaz * xRota) * 1.75;\r\n            zapply = yRotaz * xRota;\r\n\r\n        }\r\n\r\n    // 北～東\r\n    } else if (rotation.y >= 0 && rotation.y <= 90) {\r\n\r\n        let yRotax = rotation.y / piNum;\r\n        let yRotaz = -(rotation.y - 90) / piNum;\r\n        let yRota = -(rotation.x / piNum);\r\n        // 上～正面\r\n        if (rotation.x >= -90 && rotation.x < 0) {\r\n            let xRota = (rotation.x + 90) / piNum;\r\n\r\n            if (rotation.y >= 45) {\r\n                xlocation = location.x - (yRotax * xRota) * 1.75;\r\n            } else {\r\n                xlocation = location.x - (yRotax * xRota + 0.5) * 1.75;\r\n            }\r\n            xapply = -(yRotax * xRota);\r\n\r\n            if (rotation.x <= -45) {\r\n                ylocation = (location.y + 1.75) + (yRota) * 1.5;\r\n            } else {\r\n                ylocation = (location.y + 1.5) + (yRota) * 1.75;\r\n            }\r\n            yapply = (yRota);\r\n\r\n            if (rotation.y >= 45) {\r\n                zlocation = location.z + (yRotaz * xRota - 0.5) * 1.75;\r\n            } else {\r\n                zlocation = location.z + (yRotaz * xRota) * 1.75;\r\n            }\r\n\r\n            zapply = yRotaz * xRota;\r\n\r\n        // 正面～下\r\n        } else if (rotation.x >= 0 && rotation.x <= 90) {\r\n            let xRota = -(rotation.x - 90) / piNum;\r\n            if (rotation.y >= 45) {\r\n                xlocation = location.x - (yRotax * xRota) * 1.75;\r\n            } else {\r\n                xlocation = location.x - (yRotax * xRota + 0.5) * 1.75;\r\n            }\r\n            xapply = -(yRotax * xRota);\r\n\r\n            if (rotation.x >= 45) {\r\n                ylocation = (location.y + 1.75) + (yRota) * 1.5;\r\n            } else {\r\n                ylocation = (location.y + 1.5) + (yRota) * 1.75;\r\n            }\r\n            yapply = (yRota);\r\n\r\n            if (rotation.y >= 45) {\r\n                zlocation = location.z + (yRotaz * xRota - 0.5) * 1.75;\r\n            } else {\r\n                zlocation = location.z + (yRotaz * xRota) * 1.75;\r\n            }\r\n            zapply = yRotaz * xRota;\r\n\r\n        }\r\n\r\n    // 西～南\r\n    } else if (rotation.y < -90 && rotation.y > -180) {\r\n\r\n        let yRotax = (rotation.y + 180) / piNum;\r\n        let yRotaz = (rotation.y + 90) / piNum;\r\n        let yRota = -(rotation.x / piNum);\r\n        // 上～正面\r\n        if (rotation.x >= -90 && rotation.x < 0) {\r\n            let xRota = (rotation.x + 90) / piNum;\r\n            xlocation = location.x + (yRotax * xRota) * 1.75;\r\n            xapply = yRotax * xRota;\r\n\r\n            if (rotation.x <= -45) {\r\n                ylocation = (location.y + 1.75) + (yRota) * 1.5;\r\n            } else {\r\n                ylocation = (location.y + 1.5) + (yRota) * 1.75;\r\n            }\r\n            yapply = (yRota);\r\n\r\n            zlocation = location.z + (yRotaz * xRota) * 1.75;\r\n            zapply = yRotaz * xRota;\r\n\r\n        // 正面～下\r\n        } else if (rotation.x >= 0 && rotation.x <= 90) {\r\n            let xRota = -(rotation.x - 90) / piNum;\r\n            xlocation = location.x + (yRotax * xRota) * 1.75;\r\n            xapply = yRotax * xRota;\r\n\r\n            if (rotation.x >= 45) {\r\n                ylocation = (location.y + 1.75) + (yRota) * 1.5;\r\n            } else {\r\n                ylocation = (location.y + 1.5) + (yRota) * 1.75;\r\n            }\r\n            yapply = (yRota);\r\n\r\n            zlocation = location.z + (yRotaz * xRota) * 1.75;\r\n            zapply = yRotaz * xRota;\r\n\r\n        }\r\n\r\n    // 東～南\r\n    } else if (rotation.y > 90 && rotation.y <= 180) {\r\n        let yRotax = -(rotation.y - 180) / piNum;\r\n        let yRotaz = -(rotation.y - 90) / piNum;\r\n        let yRota = -(rotation.x / piNum);\r\n        // 上～正面\r\n        if (rotation.x >= -90 && rotation.x < 0) {\r\n            let xRota = (rotation.x + 90) / piNum;\r\n            xlocation = location.x - (yRotax * xRota) * 1.75;\r\n            xapply = -(yRotax * xRota);\r\n\r\n            if (rotation.x <= -45) {\r\n                ylocation = (location.y + 1.5) + (yRota) * 1.75;\r\n            } else {\r\n                ylocation = (location.y + 1.75) + (yRota) * 1.5;\r\n            }\r\n            yapply = (yRota);\r\n\r\n            if (rotation.y <= 135) {\r\n                zlocation = location.z + (yRotaz * xRota - 0.5) * 1.75;\r\n            } else {\r\n                zlocation = location.z + (yRotaz * xRota) * 1.75;\r\n            }\r\n\r\n            zapply = yRotaz * xRota;\r\n\r\n        // 正面～下\r\n        } else if (rotation.x >= 0 && rotation.x <= 90) {\r\n            let xRota = -(rotation.x - 90) / piNum;\r\n            xlocation = location.x - (yRotax * xRota) * 1.75;\r\n            xapply = -(yRotax * xRota);\r\n\r\n            if (rotation.x >= 45) {\r\n                ylocation = (location.y + 1.75) + (yRota) * 1.5;\r\n            } else {\r\n                ylocation = (location.y + 1.5) + (yRota) * 1.75;\r\n            }\r\n            yapply = (yRota);\r\n\r\n            if (rotation.y <= 135) {\r\n                zlocation = location.z + (yRotaz * xRota - 0.5) * 1.75;\r\n            } else {\r\n                zlocation = location.z + (yRotaz * xRota) * 1.75;\r\n            }\r\n            zapply = yRotaz * xRota;\r\n\r\n        }\r\n\r\n    }\r\n    return { xapply, yapply, zapply, xlocation, ylocation, zlocation };\r\n}\r\n\r\nexport { getAdjacentSphericalPoints }\r\n","import { ItemComponentTypes, ItemCooldownComponent, ItemStack, Player, Vector3 } from \"@minecraft/server\"\r\nimport { getAdjacentSphericalPoints } from \"../common/ShooterPoints\";\r\nimport { print, getRandomInRange } from \"../common/commonUtil\";\r\n\r\n/**\r\n * 投擲系魔法\r\n * @param {Player} player\r\n * @param {ItemStack} item\r\n * @param {string} throwItem\r\n * @param {Vector3} ranNum\r\n */\r\nfunction throwing(player:Player, item:ItemStack, throwItem:string, ranNum:Vector3) {\r\n\r\n    let {xapply, yapply, zapply, xlocation, ylocation, zlocation} = getAdjacentSphericalPoints(player.getRotation(), player.location);\r\n\r\n    let bulet = player.dimension.spawnEntity(throwItem, \r\n        {\r\n            x:xlocation! + ranNum.x,\r\n            y:ylocation! + ranNum.y,\r\n            z:zlocation! + ranNum.z\r\n        }\r\n    );\r\n    item.amount++;\r\n    bulet.setRotation({x:0,y:player.getRotation().y});\r\n    bulet.applyImpulse({x:xapply! * 1.5,y:yapply! * 1.5,z:zapply! * 1.5});\r\n\r\n}\r\n\r\n/**\r\n * 投射系魔法\r\n * @param {Player} player\r\n * @param {ItemStack} item\r\n * @param {string} throwItem\r\n * @param {Vector3} ranNum\r\n * @param {string} event\r\n */\r\nfunction shooting(player:Player, throwItem:string, ranNum:Vector3, seepd:number, event:string | undefined) {\r\n\r\n    let {xapply, yapply, zapply, xlocation, ylocation, zlocation} = getAdjacentSphericalPoints(player.getRotation(), player.location);\r\n\r\n    let bulet = player.dimension.spawnEntity(throwItem, \r\n        {\r\n            x:xlocation! + ranNum.x,\r\n            y:ylocation! + ranNum.y,\r\n            z:zlocation! + ranNum.z\r\n        }\r\n    );\r\n    \r\n    if (event) {\r\n        bulet.triggerEvent(event);\r\n    }\r\n\r\n    bulet.applyImpulse({x:xapply! * seepd,y:yapply! * seepd,z:zapply! * seepd});\r\n\r\n    return bulet;\r\n}\r\nexport {throwing, shooting};","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouInosuke implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouKaminari implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouKanawo implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouKaze implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouKoi implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player, EntityComponentTypes, EntityVariantComponent } from \"@minecraft/server\";\r\nimport { getRandomInRange } from \"../../../common/commonUtil\";\r\nimport { shooting } from \"../../../custom/ShooterMagicEvent\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouKyouzyuro implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n\r\n        let variant = player.getComponent(EntityComponentTypes.Variant) as EntityVariantComponent;\r\n\r\n        if (variant && variant.value == 5) {\r\n            let xran = parseFloat(getRandomInRange(-0.3, 0.3).toFixed(3));\r\n            let yran = parseFloat(getRandomInRange(-0.1, 0.1).toFixed(3));\r\n    \r\n            shooting(player, \"kurokumaft:hono_tiger\", {x:xran,y:yran,z:0}, 2, undefined);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouMituri implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouMizu implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouMuitiro implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouMushi implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouObanai implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouOto implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouSanemi implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouShinobu implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouTengen implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 日輪刀（炭治郎）\r\n */\r\nexport class NichirintouZenitu implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n        player.setDynamicProperty(\"kokyu\", true);\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 血気術\r\n */\r\nexport class KekkizyutuBakketu implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player, EntityComponentTypes, EntityVariantComponent } from \"@minecraft/server\";\r\nimport { getRandomInRange } from \"../../../common/commonUtil\";\r\nimport { shooting } from \"../../../custom/ShooterMagicEvent\";\r\n\r\n/**\r\n * 血気術\r\n */\r\nexport class KekkizyutuHakaisatu implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n\r\n        let variant = player.getComponent(EntityComponentTypes.Variant) as EntityVariantComponent;\r\n\r\n        if (variant && variant.value == 2) {\r\n            shooting(player, \"kurokumaft:kushiki\", {x:0,y:0,z:0}, 6, undefined);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player, EntityComponentTypes, EntityVariantComponent } from \"@minecraft/server\";\r\nimport { shooting } from \"../../../custom/ShooterMagicEvent\";\r\n\r\n/**\r\n * 血気術\r\n */\r\nexport class KekkizyutuKoushi implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n\r\n        let variant = player.getComponent(EntityComponentTypes.Variant) as EntityVariantComponent;\r\n        if (variant && variant.value == 3) {\r\n            shooting(player, \"kurokumaft:kokushirinten\", {x:0,y:0,z:0}, 6, undefined);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player, EntityComponentTypes, EntityVariantComponent } from \"@minecraft/server\";\r\nimport { shooting } from \"../../../custom/ShooterMagicEvent\";\r\n\r\n/**\r\n * 血気術\r\n */\r\nexport class KekkizyutuTigama implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n\r\n        let variant = player.getComponent(EntityComponentTypes.Variant) as EntityVariantComponent;\r\n        if (variant && variant.value == 1) {\r\n            shooting(player, \"kurokumaft:tobi_tigama\", {x:0,y:0,z:0}, 4, undefined);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player } from \"@minecraft/server\";\r\n\r\n/**\r\n * 血気術\r\n */\r\nexport class KekkizyutuUltrasonic implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let itemStack = event.itemStack as ItemStack;\r\n        let player = event.source as Player;\r\n    }\r\n\r\n}\r\n","import { WorldInitializeBeforeEvent } from \"@minecraft/server\";\r\nimport { Nichirintou } from \"../item/weapon/nichirintou/Nichirintou\";\r\nimport { NichirintouTanjiro } from \"../item/weapon/nichirintou/NichirintouTanjiro\";\r\nimport { NichirintouGenya } from \"../item/weapon/nichirintou/NichirintouGenya\";\r\nimport { NichirintouGiyu } from \"../item/weapon/nichirintou/NichirintouGiyu\";\r\nimport { NichirintouGyoumei } from \"../item/weapon/nichirintou/NichirintouGyoumei\";\r\nimport { NichirintouHana } from \"../item/weapon/nichirintou/NichirintouHana\";\r\nimport { NichirintouHi } from \"../item/weapon/nichirintou/NichirintouHi\";\r\nimport { NichirintouHono } from \"../item/weapon/nichirintou/NichirintouHono\";\r\nimport { NichirintouInosuke } from \"../item/weapon/nichirintou/NichirintouInosuke\";\r\nimport { NichirintouKaminari } from \"../item/weapon/nichirintou/NichirintouKaminari\";\r\nimport { NichirintouKanawo } from \"../item/weapon/nichirintou/NichirintouKanawo\";\r\nimport { NichirintouKaze } from \"../item/weapon/nichirintou/NichirintouKaze\";\r\nimport { NichirintouKoi } from \"../item/weapon/nichirintou/NichirintouKoi\";\r\nimport { NichirintouKyouzyuro } from \"../item/weapon/nichirintou/NichirintouKyouzyuro\";\r\nimport { NichirintouMituri } from \"../item/weapon/nichirintou/NichirintouMituri\";\r\nimport { NichirintouMizu } from \"../item/weapon/nichirintou/NichirintouMizu\";\r\nimport { NichirintouMuitiro } from \"../item/weapon/nichirintou/NichirintouMuitiro\";\r\nimport { NichirintouMushi } from \"../item/weapon/nichirintou/NichirintouMushi\";\r\nimport { NichirintouObanai } from \"../item/weapon/nichirintou/NichirintouObanai\";\r\nimport { NichirintouOto } from \"../item/weapon/nichirintou/NichirintouOto\";\r\nimport { NichirintouSanemi } from \"../item/weapon/nichirintou/NichirintouSanemi\";\r\nimport { NichirintouShinobu } from \"../item/weapon/nichirintou/NichirintouShinobu\";\r\nimport { NichirintouTengen } from \"../item/weapon/nichirintou/NichirintouTengen\";\r\nimport { NichirintouZenitu } from \"../item/weapon/nichirintou/NichirintouZenitu\";\r\nimport { KekkizyutuBakketu } from \"../item/weapon/kekkizyutu/KekkizyutuBakketu\";\r\nimport { KekkizyutuHakaisatu } from \"../item/weapon/kekkizyutu/KekkizyutuHakaisatu\";\r\nimport { KekkizyutuKoushi } from \"../item/weapon/kekkizyutu/KekkizyutuKoushi\";\r\nimport { KekkizyutuTigama } from \"../item/weapon/kekkizyutu/KekkizyutuTigama\";\r\nimport { KekkizyutuUltrasonic } from \"../item/weapon/kekkizyutu/KekkizyutuUltrasonic\";\r\n\r\n/**\r\n * カスタムコンポーネントの登録\r\n * @param {WorldInitializeBeforeEvent} initEvent\r\n */\r\nfunction initRegisterCustom(initEvent:WorldInitializeBeforeEvent) {\r\n\r\n    // アイテム類\r\n    // 日輪刀\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou', new Nichirintou());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_tanjiro', new NichirintouTanjiro());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_zenitu', new NichirintouZenitu());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_inosuke', new NichirintouInosuke());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_kanawo', new NichirintouKanawo());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_genya', new NichirintouGenya());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_giyu', new NichirintouGiyu());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_shinobu', new NichirintouShinobu());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_kyouzyuro', new NichirintouKyouzyuro());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_tengen', new NichirintouTengen());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_obanai', new NichirintouObanai());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_sanemi', new NichirintouSanemi());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_mituri', new NichirintouMituri());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_muitiro', new NichirintouMuitiro());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_gyoumei', new NichirintouGyoumei());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_mizu', new NichirintouMizu());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_hi', new NichirintouHi());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_kaminari', new NichirintouKaminari());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_hono', new NichirintouHono());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_mushi', new NichirintouMushi());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_hana', new NichirintouHana());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_koi', new NichirintouKoi());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_oto', new NichirintouOto());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_kaze', new NichirintouKaze());\r\n    \r\n    // 血気術\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:kekkizyutu_bakketu', new KekkizyutuBakketu());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:kekkizyutu_tigama', new KekkizyutuTigama());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:kekkizyutu_hakaisatu', new KekkizyutuHakaisatu());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:kekkizyutu_koushi', new KekkizyutuKoushi());\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:kekkizyutu_ultrasonic', new KekkizyutuUltrasonic());\r\n\r\n    // ブロック類\r\n    // トーチライトブロック\r\n//    initEvent.blockComponentRegistry.registerCustomComponent('kurokumaft:torchlight_block', new TorchlightBlock());\r\n\r\n}\r\n\r\nexport {initRegisterCustom}\r\n","import { ItemStack, Player, ItemComponentTypes, ItemDurabilityComponent, Entity, EntityEquippableComponent, EntityComponentTypes, EquipmentSlot, EntityInventoryComponent, Container } from \"@minecraft/server\";\r\nimport { getRandomInRange } from \"./commonUtil\";\r\n\r\n/**\r\n * アイテムダメージ\r\n * @param {Entity} entity\r\n * @param {ItemStack} item\r\n * @param {EquipmentSlot} slot\r\n */\r\nasync function ItemDurabilityDamage(entity:Entity, item:ItemStack, slot:EquipmentSlot) {\r\n\r\n    let equ = entity.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n\r\n    let durability = item.getComponent(ItemComponentTypes.Durability) as ItemDurabilityComponent;\r\n    let dChange = durability.getDamageChance(Math.ceil(getRandomInRange(0, 3)));\r\n\r\n    if ((durability.damage + dChange) >= durability.maxDurability) {\r\n        equ.setEquipment(slot, undefined);\r\n    } else {\r\n\r\n        durability.damage = durability.damage + dChange;\r\n        equ.setEquipment(slot, item);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport {ItemDurabilityDamage};"],"mappings":";AAAA,SAAS,SAAAA,QAAc,iBAAAC,sBAAqB;;;ACA5C,SAA8B,WAAW,OAAqE,sBAA2D,eAA0C,0BAAoD;AAEvQ,IAAM,sBAAsB,CAAC,SAAgB;AACzC,QAAM,cAAc,KAAK,OAAO,CAAC,GAAG,MAAM;AACtC,WAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO;AAAA,EACzC,CAAC,EAAE;AAEH,SAAO;AAAA,IACH,OAAQ;AACR,YAAM,IAAI,KAAK,OAAO,IAAI;AAC1B,UAAI,IAAI;AACR,iBAAW,KAAK,MAAM;AAClB,aAAK,EAAE;AACP,YAAI,IAAI,GAAG;AAAE,iBAAO,EAAE;AAAA,QAAK;AAAA,MAC/B;AAAA,IACA;AAAA,EACJ;AACJ;AAEA,IAAM,mBAAmB,oBAAoB;AAAA,EACzC,EAAE,MAAM,+BAAgC,QAAQ,GAAG;AAAA,EACnD,EAAE,MAAM,+BAAgC,QAAQ,GAAG;AAAA,EACnD,EAAE,MAAM,+BAAgC,QAAQ,GAAG;AAAA,EACnD,EAAE,MAAM,+BAAgC,QAAQ,GAAG;AAAA,EACnD,EAAE,MAAM,mCAAoC,QAAQ,GAAG;AAAA,EACvD,EAAE,MAAM,8BAA+B,QAAQ,EAAE;AAAA,EACjD,EAAE,MAAM,gCAAiC,QAAQ,EAAE;AAAA,EACnD,EAAE,MAAM,8BAA+B,QAAQ,EAAE;AAAA,EACjD,EAAE,MAAM,6BAA8B,QAAQ,EAAE;AACpD,CAAC;AAKM,IAAM,cAAN,MAAiD;AAAA;AAAA,EAGpD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,sBAAsB,IAAI;AACpD,UAAM,YAAY,cAAc;AAAA,EACpC;AAEJ;AAOA,eAAsB,oBAAoB,WAAqB,QAAe;AAC1E,QAAM,YAAY,QAAQ;AAC1B,MAAI,cAAc,iBAAiB,KAAK;AAExC,MAAI,UAAU,UAAU,aAAa,mBAAmB,WAAW;AAEnE,MAAI,aAAa,IAAI,UAAU,WAAW;AAC1C,MAAI,aAAa,WAAW,aAAa,mBAAmB,WAAW;AACvE,aAAW,gBAAgB,QAAQ,gBAAgB,CAAC;AAEpD,MAAI,MAAM,OAAO,aAAa,qBAAqB,UAAU;AAC7D,MAAI,aAAa,cAAc,UAAU,UAAU;AAEnD,SAAO,mBAAmB,sBAAsB,KAAK;AACzD;;;AC5DO,IAAM,qBAAN,MAAwD;AAAA;AAAA,EAG3D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,mBAAN,MAAsD;AAAA;AAAA,EAGzD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,kBAAN,MAAqD;AAAA;AAAA,EAGxD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,qBAAN,MAAwD;AAAA;AAAA,EAG3D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,kBAAN,MAAqD;AAAA;AAAA,EAGxD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,gBAAN,MAAmD;AAAA;AAAA,EAGtD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACdA,SAAwE,wBAAAC,6BAAoD;;;ACA5H,SAAS,SAAAC,QAAM,QAA+B,wBAAAC,uBAAqB,sBAAAC,qBAA+H,iBAAgB;AA2BlN,SAAS,iBAAiB,KAAY,KAAY;AAC9C,SAAO,KAAK,OAAO,KAAK,MAAM,OAAO;AACzC;AA4KA,IAAM,oBAAoB,OAAO,OAAO;AAAA,EACpC;AAAA,IACI,WAAW,UAAU;AAAA,IACrB,UAAU,EAAC,GAAE,GAAE,GAAE,GAAE,GAAE,EAAC;AAAA,EAC1B;AAAA,EACA;AAAA,IACI,WAAW,UAAU;AAAA,IACrB,UAAU,EAAC,GAAE,GAAE,GAAE,IAAG,GAAE,EAAC;AAAA,EAC3B;AAAA,EACA;AAAA,IACI,WAAW,UAAU;AAAA,IACrB,UAAU,EAAC,GAAE,GAAE,GAAE,GAAE,GAAE,EAAC;AAAA,EAC1B;AAAA,EACA;AAAA,IACI,WAAW,UAAU;AAAA,IACrB,UAAU,EAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE;AAAA,EAC3B;AAAA,EACA;AAAA,IACI,WAAW,UAAU;AAAA,IACrB,UAAU,EAAC,GAAE,GAAE,GAAE,GAAE,GAAE,EAAC;AAAA,EAC1B;AAAA,EACA;AAAA,IACI,WAAW,UAAU;AAAA,IACrB,UAAU,EAAC,GAAE,IAAG,GAAE,GAAE,GAAE,EAAC;AAAA,EAC3B;AAEJ,CAAC;;;AC5ND,SAAS,2BAA2B,UAAkB,UAAkB;AACpE,MAAI,IAAI;AAER,MAAI,QAAQ;AACZ,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI;AAGJ,MAAI,SAAS,KAAK,OAAO,SAAS,IAAI,GAAG;AACrC,QAAI,SAAS,CAAC,SAAS,IAAI;AAC3B,QAAI,UAAU,SAAS,IAAI,MAAM;AACjC,QAAI,QAAQ,EAAE,SAAS,IAAI;AAE3B,QAAI,SAAS,KAAK,OAAO,SAAS,IAAI,GAAG;AACrC,UAAI,SAAS,SAAS,IAAI,MAAM;AAChC,kBAAY,SAAS,IAAK,SAAS,QAAS;AAC5C,eAAS,SAAS;AAElB,UAAI,SAAS,KAAK,KAAK;AACnB,oBAAa,SAAS,IAAI,MAAQ,QAAS;AAAA,MAC/C,OAAO;AACH,oBAAa,SAAS,IAAI,OAAS,QAAS;AAAA,MAChD;AACA,eAAU;AAEV,kBAAY,SAAS,IAAK,SAAS,QAAS;AAC5C,eAAS,SAAS;AAAA,IAGtB,WAAW,SAAS,KAAK,KAAK,SAAS,KAAK,IAAI;AAC5C,UAAI,QAAQ,EAAE,SAAS,IAAI,MAAM;AACjC,kBAAY,SAAS,IAAK,SAAS,QAAS;AAC5C,eAAS,SAAS;AAElB,UAAI,SAAS,KAAK,IAAI;AAClB,oBAAa,SAAS,IAAI,MAAQ,QAAS;AAAA,MAC/C,OAAO;AACH,oBAAa,SAAS,IAAI,OAAS,QAAS;AAAA,MAChD;AACA,eAAU;AAEV,kBAAY,SAAS,IAAK,SAAS,QAAS;AAC5C,eAAS,SAAS;AAAA,IAEtB;AAAA,EAGJ,WAAW,SAAS,KAAK,KAAK,SAAS,KAAK,IAAI;AAE5C,QAAI,SAAS,SAAS,IAAI;AAC1B,QAAI,SAAS,EAAE,SAAS,IAAI,MAAM;AAClC,QAAI,QAAQ,EAAE,SAAS,IAAI;AAE3B,QAAI,SAAS,KAAK,OAAO,SAAS,IAAI,GAAG;AACrC,UAAI,SAAS,SAAS,IAAI,MAAM;AAEhC,UAAI,SAAS,KAAK,IAAI;AAClB,oBAAY,SAAS,IAAK,SAAS,QAAS;AAAA,MAChD,OAAO;AACH,oBAAY,SAAS,KAAK,SAAS,QAAQ,OAAO;AAAA,MACtD;AACA,eAAS,EAAE,SAAS;AAEpB,UAAI,SAAS,KAAK,KAAK;AACnB,oBAAa,SAAS,IAAI,OAAS,QAAS;AAAA,MAChD,OAAO;AACH,oBAAa,SAAS,IAAI,MAAQ,QAAS;AAAA,MAC/C;AACA,eAAU;AAEV,UAAI,SAAS,KAAK,IAAI;AAClB,oBAAY,SAAS,KAAK,SAAS,QAAQ,OAAO;AAAA,MACtD,OAAO;AACH,oBAAY,SAAS,IAAK,SAAS,QAAS;AAAA,MAChD;AAEA,eAAS,SAAS;AAAA,IAGtB,WAAW,SAAS,KAAK,KAAK,SAAS,KAAK,IAAI;AAC5C,UAAI,QAAQ,EAAE,SAAS,IAAI,MAAM;AACjC,UAAI,SAAS,KAAK,IAAI;AAClB,oBAAY,SAAS,IAAK,SAAS,QAAS;AAAA,MAChD,OAAO;AACH,oBAAY,SAAS,KAAK,SAAS,QAAQ,OAAO;AAAA,MACtD;AACA,eAAS,EAAE,SAAS;AAEpB,UAAI,SAAS,KAAK,IAAI;AAClB,oBAAa,SAAS,IAAI,OAAS,QAAS;AAAA,MAChD,OAAO;AACH,oBAAa,SAAS,IAAI,MAAQ,QAAS;AAAA,MAC/C;AACA,eAAU;AAEV,UAAI,SAAS,KAAK,IAAI;AAClB,oBAAY,SAAS,KAAK,SAAS,QAAQ,OAAO;AAAA,MACtD,OAAO;AACH,oBAAY,SAAS,IAAK,SAAS,QAAS;AAAA,MAChD;AACA,eAAS,SAAS;AAAA,IAEtB;AAAA,EAGJ,WAAW,SAAS,IAAI,OAAO,SAAS,IAAI,MAAM;AAE9C,QAAI,UAAU,SAAS,IAAI,OAAO;AAClC,QAAI,UAAU,SAAS,IAAI,MAAM;AACjC,QAAI,QAAQ,EAAE,SAAS,IAAI;AAE3B,QAAI,SAAS,KAAK,OAAO,SAAS,IAAI,GAAG;AACrC,UAAI,SAAS,SAAS,IAAI,MAAM;AAChC,kBAAY,SAAS,IAAK,SAAS,QAAS;AAC5C,eAAS,SAAS;AAElB,UAAI,SAAS,KAAK,KAAK;AACnB,oBAAa,SAAS,IAAI,OAAS,QAAS;AAAA,MAChD,OAAO;AACH,oBAAa,SAAS,IAAI,MAAQ,QAAS;AAAA,MAC/C;AACA,eAAU;AAEV,kBAAY,SAAS,IAAK,SAAS,QAAS;AAC5C,eAAS,SAAS;AAAA,IAGtB,WAAW,SAAS,KAAK,KAAK,SAAS,KAAK,IAAI;AAC5C,UAAI,QAAQ,EAAE,SAAS,IAAI,MAAM;AACjC,kBAAY,SAAS,IAAK,SAAS,QAAS;AAC5C,eAAS,SAAS;AAElB,UAAI,SAAS,KAAK,IAAI;AAClB,oBAAa,SAAS,IAAI,OAAS,QAAS;AAAA,MAChD,OAAO;AACH,oBAAa,SAAS,IAAI,MAAQ,QAAS;AAAA,MAC/C;AACA,eAAU;AAEV,kBAAY,SAAS,IAAK,SAAS,QAAS;AAC5C,eAAS,SAAS;AAAA,IAEtB;AAAA,EAGJ,WAAW,SAAS,IAAI,MAAM,SAAS,KAAK,KAAK;AAC7C,QAAI,SAAS,EAAE,SAAS,IAAI,OAAO;AACnC,QAAI,SAAS,EAAE,SAAS,IAAI,MAAM;AAClC,QAAI,QAAQ,EAAE,SAAS,IAAI;AAE3B,QAAI,SAAS,KAAK,OAAO,SAAS,IAAI,GAAG;AACrC,UAAI,SAAS,SAAS,IAAI,MAAM;AAChC,kBAAY,SAAS,IAAK,SAAS,QAAS;AAC5C,eAAS,EAAE,SAAS;AAEpB,UAAI,SAAS,KAAK,KAAK;AACnB,oBAAa,SAAS,IAAI,MAAQ,QAAS;AAAA,MAC/C,OAAO;AACH,oBAAa,SAAS,IAAI,OAAS,QAAS;AAAA,MAChD;AACA,eAAU;AAEV,UAAI,SAAS,KAAK,KAAK;AACnB,oBAAY,SAAS,KAAK,SAAS,QAAQ,OAAO;AAAA,MACtD,OAAO;AACH,oBAAY,SAAS,IAAK,SAAS,QAAS;AAAA,MAChD;AAEA,eAAS,SAAS;AAAA,IAGtB,WAAW,SAAS,KAAK,KAAK,SAAS,KAAK,IAAI;AAC5C,UAAI,QAAQ,EAAE,SAAS,IAAI,MAAM;AACjC,kBAAY,SAAS,IAAK,SAAS,QAAS;AAC5C,eAAS,EAAE,SAAS;AAEpB,UAAI,SAAS,KAAK,IAAI;AAClB,oBAAa,SAAS,IAAI,OAAS,QAAS;AAAA,MAChD,OAAO;AACH,oBAAa,SAAS,IAAI,MAAQ,QAAS;AAAA,MAC/C;AACA,eAAU;AAEV,UAAI,SAAS,KAAK,KAAK;AACnB,oBAAY,SAAS,KAAK,SAAS,QAAQ,OAAO;AAAA,MACtD,OAAO;AACH,oBAAY,SAAS,IAAK,SAAS,QAAS;AAAA,MAChD;AACA,eAAS,SAAS;AAAA,IAEtB;AAAA,EAEJ;AACA,SAAO,EAAE,QAAQ,QAAQ,QAAQ,WAAW,WAAW,UAAU;AACrE;;;ACzKA,SAAS,SAAS,QAAe,WAAkB,QAAgB,OAAc,OAA0B;AAEvG,MAAI,EAAC,QAAQ,QAAQ,QAAQ,WAAW,WAAW,UAAS,IAAI,2BAA2B,OAAO,YAAY,GAAG,OAAO,QAAQ;AAEhI,MAAI,QAAQ,OAAO,UAAU;AAAA,IAAY;AAAA,IACrC;AAAA,MACI,GAAE,YAAa,OAAO;AAAA,MACtB,GAAE,YAAa,OAAO;AAAA,MACtB,GAAE,YAAa,OAAO;AAAA,IAC1B;AAAA,EACJ;AAEA,MAAI,OAAO;AACP,UAAM,aAAa,KAAK;AAAA,EAC5B;AAEA,QAAM,aAAa,EAAC,GAAE,SAAU,OAAM,GAAE,SAAU,OAAM,GAAE,SAAU,MAAK,CAAC;AAE1E,SAAO;AACX;;;AHhDO,IAAM,kBAAN,MAAqD;AAAA;AAAA,EAGxD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAEvC,QAAI,UAAU,OAAO,aAAaC,sBAAqB,OAAO;AAE9D,QAAI,WAAW,QAAQ,SAAS,GAAG;AAC/B,UAAI,OAAO,WAAW,iBAAiB,MAAM,GAAG,EAAE,QAAQ,CAAC,CAAC;AAC5D,UAAI,OAAO,WAAW,iBAAiB,MAAM,GAAG,EAAE,QAAQ,CAAC,CAAC;AAE5D,eAAS,QAAQ,yBAAyB,EAAC,GAAE,MAAK,GAAE,MAAK,GAAE,EAAC,GAAG,GAAG,MAAS;AAAA,IAC/E;AAAA,EAEJ;AAEJ;;;AIrBO,IAAM,qBAAN,MAAwD;AAAA;AAAA,EAG3D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,sBAAN,MAAyD;AAAA;AAAA,EAG5D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,oBAAN,MAAuD;AAAA;AAAA,EAG1D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,kBAAN,MAAqD;AAAA;AAAA,EAGxD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,iBAAN,MAAoD;AAAA;AAAA,EAGvD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACdA,SAAwE,wBAAAC,6BAAoD;AAOrH,IAAM,uBAAN,MAA0D;AAAA;AAAA,EAG7D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAEvC,QAAI,UAAU,OAAO,aAAaC,sBAAqB,OAAO;AAE9D,QAAI,WAAW,QAAQ,SAAS,GAAG;AAC/B,UAAI,OAAO,WAAW,iBAAiB,MAAM,GAAG,EAAE,QAAQ,CAAC,CAAC;AAC5D,UAAI,OAAO,WAAW,iBAAiB,MAAM,GAAG,EAAE,QAAQ,CAAC,CAAC;AAE5D,eAAS,QAAQ,yBAAyB,EAAC,GAAE,MAAK,GAAE,MAAK,GAAE,EAAC,GAAG,GAAG,MAAS;AAAA,IAC/E;AAAA,EAEJ;AAEJ;;;ACrBO,IAAM,oBAAN,MAAuD;AAAA;AAAA,EAG1D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,kBAAN,MAAqD;AAAA;AAAA,EAGxD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,qBAAN,MAAwD;AAAA;AAAA,EAG3D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,mBAAN,MAAsD;AAAA;AAAA,EAGzD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,oBAAN,MAAuD;AAAA;AAAA,EAG1D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,iBAAN,MAAoD;AAAA;AAAA,EAGvD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,oBAAN,MAAuD;AAAA;AAAA,EAG1D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,qBAAN,MAAwD;AAAA;AAAA,EAG3D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,oBAAN,MAAuD;AAAA;AAAA,EAG1D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,oBAAN,MAAuD;AAAA;AAAA,EAG1D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AACnB,WAAO,mBAAmB,SAAS,IAAI;AAAA,EAC3C;AAEJ;;;ACTO,IAAM,oBAAN,MAAuD;AAAA;AAAA,EAG1D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AAAA,EACvB;AAEJ;;;ACbA,SAAwE,wBAAAC,6BAAoD;AAOrH,IAAM,sBAAN,MAAyD;AAAA;AAAA,EAG5D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AAEnB,QAAI,UAAU,OAAO,aAAaC,sBAAqB,OAAO;AAE9D,QAAI,WAAW,QAAQ,SAAS,GAAG;AAC/B,eAAS,QAAQ,sBAAsB,EAAC,GAAE,GAAE,GAAE,GAAE,GAAE,EAAC,GAAG,GAAG,MAAS;AAAA,IACtE;AAAA,EAEJ;AAEJ;;;ACtBA,SAAwE,wBAAAC,6BAAoD;AAMrH,IAAM,mBAAN,MAAsD;AAAA;AAAA,EAGzD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AAEnB,QAAI,UAAU,OAAO,aAAaC,sBAAqB,OAAO;AAC9D,QAAI,WAAW,QAAQ,SAAS,GAAG;AAC/B,eAAS,QAAQ,4BAA4B,EAAC,GAAE,GAAE,GAAE,GAAE,GAAE,EAAC,GAAG,GAAG,MAAS;AAAA,IAC5E;AAAA,EAEJ;AAEJ;;;ACpBA,SAAwE,wBAAAC,6BAAoD;AAMrH,IAAM,mBAAN,MAAsD;AAAA;AAAA,EAGzD,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AAEnB,QAAI,UAAU,OAAO,aAAaC,sBAAqB,OAAO;AAC9D,QAAI,WAAW,QAAQ,SAAS,GAAG;AAC/B,eAAS,QAAQ,0BAA0B,EAAC,GAAE,GAAE,GAAE,GAAE,GAAE,EAAC,GAAG,GAAG,MAAS;AAAA,IAC1E;AAAA,EAEJ;AAEJ;;;ACfO,IAAM,uBAAN,MAA0D;AAAA;AAAA,EAG7D,MAAM,OAA6B;AAC/B,QAAI,YAAY,MAAM;AACtB,QAAI,SAAS,MAAM;AAAA,EACvB;AAEJ;;;ACsBA,SAAS,mBAAmB,WAAsC;AAI9D,YAAU,sBAAsB,wBAAwB,0BAA0B,IAAI,YAAY,CAAC;AACnG,YAAU,sBAAsB,wBAAwB,kCAAkC,IAAI,mBAAmB,CAAC;AAClH,YAAU,sBAAsB,wBAAwB,iCAAiC,IAAI,kBAAkB,CAAC;AAChH,YAAU,sBAAsB,wBAAwB,kCAAkC,IAAI,mBAAmB,CAAC;AAClH,YAAU,sBAAsB,wBAAwB,iCAAiC,IAAI,kBAAkB,CAAC;AAChH,YAAU,sBAAsB,wBAAwB,gCAAgC,IAAI,iBAAiB,CAAC;AAC9G,YAAU,sBAAsB,wBAAwB,+BAA+B,IAAI,gBAAgB,CAAC;AAC5G,YAAU,sBAAsB,wBAAwB,kCAAkC,IAAI,mBAAmB,CAAC;AAClH,YAAU,sBAAsB,wBAAwB,oCAAoC,IAAI,qBAAqB,CAAC;AACtH,YAAU,sBAAsB,wBAAwB,iCAAiC,IAAI,kBAAkB,CAAC;AAChH,YAAU,sBAAsB,wBAAwB,iCAAiC,IAAI,kBAAkB,CAAC;AAChH,YAAU,sBAAsB,wBAAwB,iCAAiC,IAAI,kBAAkB,CAAC;AAChH,YAAU,sBAAsB,wBAAwB,iCAAiC,IAAI,kBAAkB,CAAC;AAChH,YAAU,sBAAsB,wBAAwB,kCAAkC,IAAI,mBAAmB,CAAC;AAClH,YAAU,sBAAsB,wBAAwB,kCAAkC,IAAI,mBAAmB,CAAC;AAClH,YAAU,sBAAsB,wBAAwB,+BAA+B,IAAI,gBAAgB,CAAC;AAC5G,YAAU,sBAAsB,wBAAwB,6BAA6B,IAAI,cAAc,CAAC;AACxG,YAAU,sBAAsB,wBAAwB,mCAAmC,IAAI,oBAAoB,CAAC;AACpH,YAAU,sBAAsB,wBAAwB,+BAA+B,IAAI,gBAAgB,CAAC;AAC5G,YAAU,sBAAsB,wBAAwB,gCAAgC,IAAI,iBAAiB,CAAC;AAC9G,YAAU,sBAAsB,wBAAwB,+BAA+B,IAAI,gBAAgB,CAAC;AAC5G,YAAU,sBAAsB,wBAAwB,8BAA8B,IAAI,eAAe,CAAC;AAC1G,YAAU,sBAAsB,wBAAwB,8BAA8B,IAAI,eAAe,CAAC;AAC1G,YAAU,sBAAsB,wBAAwB,+BAA+B,IAAI,gBAAgB,CAAC;AAG5G,YAAU,sBAAsB,wBAAwB,iCAAiC,IAAI,kBAAkB,CAAC;AAChH,YAAU,sBAAsB,wBAAwB,gCAAgC,IAAI,iBAAiB,CAAC;AAC9G,YAAU,sBAAsB,wBAAwB,mCAAmC,IAAI,oBAAoB,CAAC;AACpH,YAAU,sBAAsB,wBAAwB,gCAAgC,IAAI,iBAAiB,CAAC;AAC9G,YAAU,sBAAsB,wBAAwB,oCAAoC,IAAI,qBAAqB,CAAC;AAM1H;;;AC3EA,SAA4B,sBAAAC,qBAAgF,wBAAAC,6BAAgF;AAS5L,eAAe,qBAAqB,QAAe,MAAgB,MAAoB;AAEnF,MAAI,MAAM,OAAO,aAAaC,sBAAqB,UAAU;AAE7D,MAAI,aAAa,KAAK,aAAaC,oBAAmB,UAAU;AAChE,MAAI,UAAU,WAAW,gBAAgB,KAAK,KAAK,iBAAiB,GAAG,CAAC,CAAC,CAAC;AAE1E,MAAK,WAAW,SAAS,WAAY,WAAW,eAAe;AAC3D,QAAI,aAAa,MAAM,MAAS;AAAA,EACpC,OAAO;AAEH,eAAW,SAAS,WAAW,SAAS;AACxC,QAAI,aAAa,MAAM,IAAI;AAAA,EAC/B;AAEJ;;;AlClBAC,OAAM,aAAa,gBAAgB,UAAU,eAAa;AACxD,qBAAmB,SAAS;AAC9B,CAAC;AACDA,OAAM,aAAa,YAAY,UAAU,gBAAc;AACrD,aAAW,OAAO,uBAAuB;AAC3C,CAAC;AAGDA,OAAM,YAAY,eAAe,UAAU,WAAS;AAClD,MAAI,SAAS,MAAM;AACnB,MAAI,OAAO,MAAM;AACjB,MAAI,WAAW,MAAM;AACrB,MAAI,QAAQ,QAAW;AACrB,QAAI,OAAO,mBAAmB,oBAAoB,GAAG;AACnD,0BAAoB,MAAM,MAAM;AAAA,IAClC;AACA,QAAI,OAAO,mBAAmB,OAAO,GAAG;AACtC,aAAO,mBAAmB,SAAS,MAAS;AAC5C,2BAAqB,QAAQ,MAAMC,eAAc,QAAQ;AAAA,IAC3D;AAAA,EACF;AACF,CAAC;","names":["world","EquipmentSlot","EntityComponentTypes","world","EntityComponentTypes","ItemComponentTypes","EntityComponentTypes","EntityComponentTypes","EntityComponentTypes","EntityComponentTypes","EntityComponentTypes","EntityComponentTypes","EntityComponentTypes","EntityComponentTypes","EntityComponentTypes","ItemComponentTypes","EntityComponentTypes","EntityComponentTypes","ItemComponentTypes","world","EquipmentSlot"],"file":"../scripts/kimetu_script.js"}