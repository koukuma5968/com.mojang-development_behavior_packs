{
	"namespace": "magicenchant",
	"magicenchant@horse.overlay_image": {
		"texture": "textures/kurokumaft/ui/ui_magicenchant",
		"size": 0.5,
		"alpha": 1
	},
	"input_grid_panel": {
		"type": "panel",
		"grid_position": [0, 0],
		"ignored": false
	},
	"magicenchant_label": {
		"type": "label",
		"color": "$title_text_color",
		"anchor_from": "center",
		"anchor_to": "center",
		"size": [ "80%", "30%" ],
		"offset": [ "30%", 0 ],
		"layer": 1,
		"text": "container.kurokumaft:magic_enchant_table.upgrade"
	},
	"custom_crafting_grid_2x2": {
		"type": "grid",
		"size": [60, 60],
		"anchor_from": "top_left",
		"anchor_to": "top_left",
		"grid_dimensions": [2, 2],
		"collection_name": "crafting_input_items",

		"controls": [
			{
				"input_item_left@input_grid_panel": {
					"grid_position": [0, 0],
					"ignored": false,
					"controls": [{
						"left_top@crafting.crafting_input_grid_item": {
							"offset": [-24, -20]
						}
					}]
				}
			},
			{
				"input_item_right@input_grid_panel": {
					"grid_position": [0, 1],
					"ignored": false,
					"controls": [{
						"top_middle@crafting.crafting_input_grid_item": {
							"offset": [-24, -20]
						}
					}]
				}
			},
			{
				"material_item@input_grid_panel": {
					"grid_position": [1, 1],
					"ignored": false,
					"controls": [{
						"middle@crafting.crafting_input_grid_item": {
							"offset": [10, -35]
						}
					}]
				}
			}
		]
	},

	"custom_work_bench_panel_2x2": {
		"type": "panel",
		"anchor_to": "top_left",
		"anchor_from": "top_left",
		"controls": [
			{
				"crafting_label_0@crafting.crafting_label": {
					"offset": [20, 10]
				}
			},
			{
				"inventory_label@crafting.inventory_label": {
					"offset": [-5, 10],
					"ignored": true
				}
			},
			{
				"crafting_arrow_large@crafting.crafting_arrow_large": {
					"offset": [61, 55],
					"ignored": true
				}
			},
			{
				"crafting_grid_2x2@custom_crafting_grid_2x2": {
					"offset": [10, 40]
				}
			},

			{
				"work_bench_output_grid@crafting.output_grid_3x3": {
					"offset": [105, 38]
				}
			}
		]
	},

	"custom_crafting_panel_top_half": {
		"type": "panel",
		"size": ["100%", "50%"],
		"anchor_from": "top_left",
		"anchor_to": "top_left",
		"controls": [{
			"crafting_panel@custom_work_bench_panel_2x2": {
				"offset": [27, 0]
			}
		}]
	},

	"custom_player_inventory@common.root_panel": {
		"layer": 1,
		"size": [180, 160],
		"controls": [

			{
				"kurokumaft@magicenchant": {
					"layer": 5,
					"size": ["90%", 90],
					"offset": [0, -37.5]
				}
			},
			{
				"common_panel@common.common_panel": {
					"offset": [0, 0],
					"$show_close_button": true
				}
			},
			{
				"inventory_panel_top_half@$top_half_variant": {
					"layer": 2
				}
			},
			{
				"inventory_panel_bottom_half@common.inventory_panel_bottom_half": {
					"layer": 2,
					"$button_ref": "crafting.inventory_container_slot_button",
					"$background_images": "crafting.container_cell_images"

				}
			},
			{
				"hotbar_grid@common.hotbar_grid_template": {
					"layer": 2,
					"$button_ref": "crafting.inventory_container_slot_button",
					"$background_images": "crafting.container_cell_images"

				}
			}
		]
	},

	"item_control": {
		"type": "panel",
		"controls": [

			{
				"inventory_take_progress_icon_button@common.inventory_take_progress_icon_button": {}
			},
			{
				"inventory_selected_icon_button@common.inventory_selected_icon_button": {}
			},
			{
				"hold_icon@common.inventory_take_progress_icon_button": {}
			},
			{
				"controller_gamepad_helpers_stack_panel": {
					"type": "stack_panel",
					"anchor_from": "bottom_middle",
					"anchor_to": "bottom_middle",
					"controls": [{
							"container_gamepad_helpers_second_row@crafting.container_gamepad_helpers_second_row": {}
						},
						{
							"container_gamepad_helpers@common.container_gamepad_helpers": {
								"$helper_x_control": "crafting.inventory_x_gamepad_helper",
								"$helper_y_control": "crafting.inventory_y_gamepad_helper",
								"$helper_a_control": "crafting.inventory_a_gamepad_helper"
							}
						}
					],
					"bindings": [{
						"binding_name": "#gamepad_helper_visible",
						"binding_name_override": "#visible"
					}]
				}
			},
			{
				"flying_item_renderer@common.flying_item_renderer": {
					"layer": 13
				}
			},
			{
				"game_tip@game_tip.game_tip_panel": {
					"layer": 100,
					"$offset|default": [0, 110],
					"variables": [{
						"requires": "$game_pad",
						"$offset": [0, "38%"]
					}],
					"offset": "$offset"
				}
			},
			{
				"selected_item_details_factory@common.selected_item_details_factory": {}
			},
			{
				"item_lock_notification_factory@common.item_lock_notification_factory": {}
			}
		]
	},


	"final_panel": {
		"type": "panel",
		"$top_half_variant": "custom_crafting_panel_top_half",
		"controls": [{
				"cpi@custom_player_inventory": {}
			},
			{
				"icontrol@item_control": {}
			}
		],
		"bindings": [{
				"binding_name": "#crafting_label_text"
			},
			{
				"binding_type": "view",
				"source_property_name": "(#crafting_label_text = tile.kurokumaft:magic_enchant_table.name)",
				"target_property_name": "#visible"
			}
		]
	}
}